@model Minem.Sgpam.TransporteDatos.DtoEntidades.Visita_DetDTO

<div class="rowGroup">
    <h1 class="grupoT">Agregar EUM ó Expediente</h1>

    <div class="col-md-12 col-sm-12 col-xs-12 form-group">
        <div class="form-group">
            <label class="control-label col-md-4 col-sm-4 col-xs-12">Tipo (<font color="red">*</font>)</label>
            <div class="col-md-4 col-sm-4 col-xs-12">
                <select id="vId_Tipo" class="select2_single form-control" asp-items="(List<SelectListItem>)ViewBag.CboTipo">
                    @*<option value="">SELECCIONE</option>*@
                </select>
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12 form-group">
        <div class="form-group">
            <label class="control-label col-md-4 col-sm-4 col-xs-12">Expediente - Eum (<font color="red">*</font>)</label>
            <div class="col-md-4 col-sm-4 col-xs-12">
                <input type="text" asp-for="Nombre_Eum" class="form-control" maxlength="10" placeholder="" id="txtParametro">
                <input type="hidden" asp-for="Id_Eum" class="form-control" />
                <input type="hidden" asp-for="Id_Expediente" class="form-control" />
                <input type="hidden" asp-for="Id_Tipo_Registro" class="form-control" />
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12 form-group">
        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12">Nombre:</label>
            <div class="col-md-8 col-sm-8 col-xs-12">
                <input type="text" class="form-control" maxlength="50" placeholder="">
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12 form-group">
        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12">Motivo:</label>
            <div class="col-md-8 col-sm-8 col-xs-12">
                <input type="text" asp-for="Motivo" class="form-control" maxlength="200" placeholder="">
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12 form-group">
        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12">Observación:</label>
            <div class="col-md-8 col-sm-8 col-xs-12">
                <input type="text" asp-for="Observacion" class="form-control" maxlength="200" placeholder="">
            </div>
        </div>
    </div>

    <div class="clearfix"></div>

    <div class="x_title2">
        <div align="center" class="titulo-m">
            <input type="hidden" asp-for="Id_Visita" />
        </div>
        <ul class="nav navbar-right panel_toolbox">
            <li>
                <button type="button" class="boton" style="margin-right: 0px;" onclick="SaveEumExpediente()">Guardar  <i class="fa fa-save" style="margin-left: 10px;"></i></button>
            </li>
            <li>
                <div class="boton" data-dismiss="modal">
                    <a href="#">Cancelar  <i class="fa fa-ban"></i></a>
                </div>
            </li>
        </ul>
        <div class="clearfix"></div>
    </div>

    <div class="clearfix"></div>

</div>



<script>
    $(document).ready(function () {

        //$("#txtParametro").autocomplete({
        //    source: function (request, response) {
        //        $.ajax({
        //            url: "/Eum/ListaAutocompletar?vPar=" + $("#txtParametro").val(),
        //            type: "GET",
        //            contentType: "application/json; charset-utf-8",
        //            dataType: "json",
        //            data: '',
        //            success: function (data) {
        //                response($.map(data, function (item) {
        //                    return {
        //                        label: item.label, 
        //                        id: item.id
        //                    }
        //                }))
        //            }
        //        })
        //    },
        //    minLength: 2,
        //    select: function (event, ui) {
        //        $("#Id_Eum").val(ui.item.id)
        //        $("#Id_Tipo_Registro").val(1)
        //    }

        //});

        $("#txtParametro").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/Expediente/ListaAutocompletar?vPar=" + $("#txtParametro").val(),
                    type: "GET",
                    contentType: "application/json; charset-utf-8",
                    dataType: "json",
                    data: '',
                    success: function (data) {
                        response($.map(data, function (item) {
                            return {
                                label: item.label,
                                id: item.id
                            }
                        }))
                    }
                })
            },
            minLength: 2,
            select: function (event, ui) {
                $("#Id_Expediente").val(ui.item.id)
                $("#Id_Tipo_Registro").val(2)
            }

        });


    });
</script>

